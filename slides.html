<!DOCTYPE html>
<html>
  <head>
    <title>NodeJS For Front-End Developers</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="lib/paraiso.light.css">
    <link rel="stylesheet" type="text/css" href="lib/slides.css">
    <link rel="stylesheet" type="text/css" href="lib/slides-print.css" media="print">
  </head>
  <body>
    <textarea id="source">
layout: true

<footer class="ga-footer">
  <img src="img/ga/logo-full-flat-black.png">
  <img src="img/ga/logo-full-flat-white.png">
</footer>

---

class:topic-header

# NodeJS for Front-End Developers

## Dan Hough

---

# What is NodeJS?

* It's a JavaScript runtime environment, in the sense that web browsers are JavaScript runtime environments
* It allows us to write scripts, servers, tools and all sorts of other software applications in JavaScript to run them mostly on the command line

---

## Agenda

* "Hello World" in NodeJS
* NPM and Installing Modules
* Using modules
* Writing your own modules
* HTTP Response/Request Primer
* What is REST?
* Building an API With Express JS
* Making your code executeable on the command line
* Publishing your code on NPM
* Q&amp;A

---

## Your First NodeJS Application

Make a new folder using `mkdir helloworld`, somewhere you can find it later. Then, `cd helloworld` to go into the folder.

---

## Your First NodeJS Application

In this folder, we're gonna create a new file called `index.js`. You can create it using the command line, with `touch index.js`, or you can open up Sublime Text to do it: Just go to File -> New, then use File -> Save and find your `helloworld` folder to save it in.

---

## Your First NodeJS Application

Now for a simple program. It will simply print out to us the text `Hello world`. For front-end JavaScript devs this should be very familiar:

```javascript
console.log('Hello world');
```

---

class: topic-header

# Modules and NPM

---

## Using Modules

In NodeJS, we use the `require()` function, which fetches the module that we need and gives us all of the functions and properties which it advertises.

In Node, there are a lot of modules which are available out of the box. For example, let's `require` the path module.

```js
var path = require('path');
```

--

Built-in NodeJS modules are documented at https://nodejs.org/api/.

---

## Modules and NPM

However, if we want to use modules which aren't available by default, we have to install and save them locally.

```terminal
npm init
...
This utility will walk you through creating a package.json file. etc.
...
{
  "name": "helloworld",
  ...
  "license": "ISC"
}


Is this ok? (yes)
```

Hit enter until the project has been created! This generates the `package.json` file.

---

## NPM and Installing Modules

The Node Package Manager (`npm`) is a command-line tool and, in a way, a whole ecosystem of hundreds of thousands of JavaScript modules written by developers around the world to solve common problems.

The npm directory is searchable at http://npmjs.org/, so if you are looking for a module to do a certain task you can probably find it pretty easily.

In the same folder where we created the `package.json` file, let's run the following command to download and save the module known as `request`.

```bash
npm install request --save
```

---

## Using the `request` module

Like any module, we can use it by using `require` function:

```
var request = require('request');
```

---

## Writing Our Own Modules

We can write modules to be used in any other bits of NodeJS code by using the `module` global variable. For instance, we could turn a function in a file into a module by doing this:

```javascript
function thatModuleYouNeeded () {
  
}
module.exports = thatModuleYouNeeded;
```

If you `require()` that file you can now use the function `thatModuleYouNeeded`.

Let's turn our `todayilearned` function into a module!

---

class: topic-header

# Break time!

Please be back in five minutes :)

---

class: topic-header

# REST APIs in Node
## Break's over, time for REST

---

## HTTP Requests

As you may know, the web is driven largely by HTTP Requests and Responses.

When we hit a web page, we make a request using the `GET` method to a URL and it sends back a `200` with a `body` full of HTML.

And of course, when we fill in a form, we make a `POST` request and send a `body` full of some other data which is then, usually, saved to a database somewhere.

---

## REST

Now, REST stands for **R**epresentational **S**tate **T**ransfer. The idea is that by using HTTP Requests with certain HTTP Methods such as `GET`, `POST` and `PUT` we can drive the state of an application.

Each URL on a system represents a resource of set of resources, and we can modify those resources by choosing our methods carefully.

---

## REST

For example, if we make a `POST` request to `/transactions` on an API, a new `Transaction` will be created on our system with the data we send with our request. The body will represent the **state** of that `Transaction` resource.

When this `Transaction` resource is created, it'll return to us, in the response, some info about the resource including a link to it - it's canonical URL - such as `/transactions/1`. We can make a `GET` request to this URL to get the full resource information. The `GET` request will tell us about the latest **state**.

If we need to *modify* the **state** of the resource, we can make a `PUT` request to its URL along with some some new data with which to overwrite existing data.

---

## Checkout REST API

Now we're going to turn our Checkout module into a REST API. A really easy way to write a REST API is using the `express` module. Install it to your project

```bash
npm install express body-parser --save
```

---

class: topic-header

# Making it Real

---

## Executing your code as a standalone package

This is surprisingly simple. We're gonna make our Checkout API into a module we can install globally and run from anywhere.

Add this line to your new Checkout API `package.json` file.

```
"bin": "./server.js",
```

We can now type `npm install ./ -g` in our project directory, and whatever we called our project will magically be executable from anywhere.

Try running it! If the name of your folder when you ran `npm init` was `checkout` then type `checkout` - it should start running.

---

## Publishing your code to npm

Now that we have a functional module and fairly good separation of concerns, it's time to let the rest of the world use it. We can do this all on the command line.

1. If you don't already have an `npm` account, create a user on NPM using `npm adduser`. This will ask for your desired credentials on the command line then create your account.
2. If you already had an account that you'd created on the site, type `npm login`, and type in your credentials.
3. Now it's a simple matter of typing `npm publish`, and your package will be up on the npm directory. Just make sure you all choose different names for your packages!

---

class: topic-header

# Question Time

---

class: topic-header

# Thanks!

* I'll send out the Notes and Slides
* All the code is available on GitHub:
  * http://bit.ly/nodeforfront
* If you need help with anything and Google is no help, I can be reached at dan@danhough.com
* I also sometimes blog about Node and JavaScript on my website, [danhough.com](http://danhough.com)

    </textarea>
    <script src="lib/remark-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({
        ratio: '16:9'
      });
    </script>
  </body>
</html>